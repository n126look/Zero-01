<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>點餐系統</title>

  <!-- Firebase（compat 版） -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }
    body { font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC",Arial;
           margin:0; background:#f7f7f7; }
    header { padding:16px; position:sticky; top:0; background:#f7f7f7; z-index:5; }
    h1 { margin:0; color:#333; font-size:1.4rem; }
    main { padding:0 16px 96px; }
    h2 { color:#333; margin:16px 0 8px; font-size:1.1rem; }
    .item { background:#fff; border:1px solid #e5e5e5; border-radius:12px;
            padding:12px; margin:8px 0; box-shadow:0 2px 10px rgba(0,0,0,.04); }
    .row { display:flex; align-items:center; gap:.6rem; flex-wrap:wrap; }
    .name { font-weight:700; }
    .price { color:#555; }
    .qty { width:88px; }
    .note { flex:1 1 220px; min-width:200px; }
    /* 底部結帳列 */
    .checkout-bar {
      position:fixed; left:0; right:0; bottom:0; background:#fff; border-top:1px solid #e5e5e5;
      padding:10px 12px; display:flex; align-items:center; gap:12px; z-index:10;
    }
    .checkout-bar .sum { font-weight:900; font-size:1.1rem; }
    .checkout-bar .muted { color:#666; font-size:.9rem; }
    button.primary {
      margin-left:auto; padding:.75rem 1.2rem; font-size:1rem; font-weight:700;
      background:#0d6efd; color:#fff; border:0; border-radius:10px; cursor:pointer;
    }
    button.primary[disabled] { opacity:.6; cursor:not-allowed; }
    .message { padding:10px 16px; min-height:1.25rem; font-weight:700; }
    .ok { color:#0a7d39; } .err { color:#b3261e; } .info { color:#0b5ed7; }

    /* 簡易 Toast */
    .toast {
      position:fixed; left:50%; bottom:80px; transform:translateX(-50%);
      background:rgba(0,0,0,.85); color:#fff; padding:10px 14px; border-radius:10px;
      font-size:.95rem; opacity:0; pointer-events:none; transition:opacity .25s;
      z-index:100;
    }
    .toast.show { opacity:1; }

    /* 成功畫面 */
    .success {
      display:none; padding:24px; text-align:center;
    }
    .success h3 { margin:0 0 8px; }
    .success .code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
                     background:#f1f3f5; border:1px dashed #cbd5e1; border-radius:8px;
                     display:inline-block; padding:6px 10px; }
  </style>
</head>
<body>
  <header>
    <h1>📋 手機點餐</h1>
  </header>

  <main>
    <div id="menu"></div>
    <div id="msg" class="message info"></div>

    <section id="success" class="success">
      <h3>✅ 訂單已送出</h3>
      <p>您的訂單編號：</p>
      <p class="code" id="orderId">—</p>
      <p style="margin-top:8px;">請保持頁面或出示此畫面給服務人員。</p>
      <button class="primary" onclick="location.href=location.pathname">回到點餐</button>

